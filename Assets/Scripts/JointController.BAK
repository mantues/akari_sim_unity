using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;

namespace InverseKinematics
{

public class JointController : MonoBehaviour
{
    // robot
    private GameObject[] joint = new GameObject[2];
    private Vector3[] angle = new Vector3[2];
    
    // UI
    private GameObject[] slider = new GameObject[3];
    private float[] sliderVal = new float[3];
    private GameObject[] angText = new GameObject[2];
    
    // Start is called before the first frame update
    void Start()
    {
        // robot
        joint[0] = GameObject.Find("akariservoros");
        joint[1] = GameObject.Find("akariheadros");
        
        // UI
        slider[0] = GameObject.Find("Slider_0");
        slider[1] = GameObject.Find("Slider_1");
        angText[0] = GameObject.Find("Angle_0");
        angText[1] = GameObject.Find("Angle_1");
        posText[0] = GameObject.Find("Pos_X");
        posText[1] = GameObject.Find("Pos_Y");
    }

    // Update is called once per frame
    void Update()
    {
        // slider
        sliderVal[0] = slider[0].GetComponent<Slider>().value;
        sliderVal[1] = slider[1].GetComponent<Slider>().value;
        
        angText[0].GetComponent<Text>().text = sliderVal[0].ToString("f2");
        angText[1].GetComponent<Text>().text = sliderVal[1].ToString("f2");
        
        angle[0].z = sliderVal[0];
        angle[1].x = sliderVal[1];
        
        joint[0].transform.localEulerAngles = angle[0];
        joint[1].transform.localEulerAngles = angle[1];
        
    }
}

}